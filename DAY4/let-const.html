<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ECMAScript 2015 let/const 알아보기</title>
  </head>
  <body>
    <h1>let/const 학습</h1>

    <div>기본 배송비(상수) : <span id="constDelyFee"></span></div>
    <div>통합 배송비 : <span id="totalFee"></span></div>

    <script>
      var userName = "윤성원";
      var age = 35;
      var price = 5000;
      var isMale = true;

      var baseDelyFee = 3000;

      console.log("기본배송비1 : ", baseDelyFee, typeof baseDelyFee);

      baseDelyFee = 13000;
      console.log(`기본배송비2 : ${baseDelyFee} ${typeof baseDelyFee}`);

      const newBaseDelyFee = 5000;
      console.log(`상수 표현 : ${newBaseDelyFee}`);

      let totalPayPrice = 0;
      console.log(
        "총 결제금액 - 상수기본배송비: ",
        totalPayPrice,
        newBaseDelyFee
      );

      totalPayPrice += baseDelyFee;
      totalPayPrice += price;

      console.log("변경된 총 결제금액 : ", totalPayPrice);

      //가정문을 통한 블록스코프 정의하기

      //일단 이거는 안됨.
      //var bb랑 let bb가 최상단에서 겹침.

      //var bb = 2;
      //console.log(bb);
      //let bb = 3;
      //console.log(bb);

      //var는 블록스코프 안에서 선언해도 호이스팅에 의해 최상단으로 끌어올려짐.
      if (isMale === true) {
        var isMaleText = "남자다";
        console.log(`isMaleText : ${isMaleText}`);
      }
      console.log(`isMaleText2 : ${isMaleText}`);

      //위에서 isMaleText가 호이스팅에 의해 최상단으로 올라감
      //let을 여기서 선언하면 겹침.
      //let isMaleText = "남남";

      if (isMale === true) {
        //위에서 var로 isMaleText를 썼는데, 밑에서 다시 설정이 되네?
        //여기서 선언하는 건 블록스코프 따로 설정한 거니까 가능.
        let isMaleText = "나암자";
        console.log(isMaleText);
      }

      /////강의내용

      const region = "제주도";
      if (region === "제주도") {
        const addDelyFee = 2000;
        let addMsg = "도서 배송비가 추가되었습니다.";
        console.log(addMsg);
        totalPayPrice += addDelyFee;
        console.log(
          "if 블록스코프내에서 선언된 변수/상수는 그 안에서 사요이 가능함",
          addDelyFee,
          totalPayPrice
        );
      }

      //블록스코프 안에 선언된 let, const를 밖에서 출력하려면 에러남
      /*
      console.log(
        "if 블록스코프내에서 선언된 변수/상수는 그 안에서 사요이 가능함",
        addDelyFee,
        totalPayPrice
      );
      */
      document.getElementById("constDelyFee").innerText = newBaseDelyFee;
      document.getElementById("totalFee").innerText = totalPayPrice;
    </script>
  </body>
</html>
